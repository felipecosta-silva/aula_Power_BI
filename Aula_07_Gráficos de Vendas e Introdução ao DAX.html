<!doctype html>
<html lang="pt-BR" id="top">

<head>
  <meta charset="UTF-8" />
  <title>Aula 6 ‚Äì Gr√°ficos de Vendas e Introdu√ß√£o ao DAX no Power BI</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />

  <!-- Fonte e √çcones -->
  <link rel="preconnect" href="https://fonts.googleapis.com" />
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
  <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@300;400;500;700&display=swap" rel="stylesheet" />
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.2/css/all.min.css"
    integrity="sha512-..." crossorigin="anonymous" referrerpolicy="no-referrer" />

  <!-- Prism (para c√≥digos) -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism-tomorrow.min.css"
    integrity="sha512-..." crossorigin="anonymous" referrerpolicy="no-referrer" />

  <!-- Seu CSS principal -->
  <link rel="stylesheet" href="styles.css" />
</head>

<body>
  <!-- Bot√£o hamb√∫rguer (mobile) -->
  <button class="hamburger-menu" id="hamburger-menu">‚ò∞</button>

  <!-- SIDEBAR -->
  <div class="sidebar" id="sidebar">
    <button class="sidebar-toggle-btn" id="sidebar-toggle-btn">
      <i class="fas fa-chevron-left"></i>
    </button>

    <h2><span class="sidebar-title-text">Power BI </span></h2>

    <a href="index.html"><i class="fas fa-home"></i> <span>In√≠cio Power BI</span></a>
    <a href="Introducao_BI_e_Power_BI.html"><i class="fas fa-rocket"></i> <span>Aula 1: Intro BI</span></a>
    <a href="Aula_02_Modelagem.html"><i class="fas fa-project-diagram"></i>
      <span>Aula 2: Modelagem</span></a>
    <a href="Aula_03_Criacao_Relacionamento.html"><i class="fas fa-sitemap"></i> <span>Aula 3:
        Relacionamentos</span></a>
    <a href="Aula_04_Acrescentar_Consultas.html"><i class="fas fa-layer-group"></i>
      <span>Aula 4: Acrescentar Consultas</span></a>
    <a href="Aula_05_Calendario.html"><i class="fas fa-calendar-alt"></i>
      <span>Aula 5: Tabela Calend√°rio</span></a>
    <a href="Aula_06_Resolucao_Exercicio_Funcionario.html"><i class="fas fa-chart-line"></i>
      <span>Aula 6: Resolu√ß√£o Ex√©rc√≠cio Funcionarios</span></a>
    <a href="Aula_07_Gr√°ficos de Vendas e Introdu√ß√£o ao DAX.html" class="active"><i class="fas fa-chart-line"></i>
      <span>Aula 7: Gr√°ficos de Vendas e Introdu√ß√£o ao DAX</span></a>
  </div>

  <!-- CONTE√öDO -->
  <div class="content" id="content">
    <header>
      <h1>Aula 7 ‚Äì Gr√°ficos de Vendas e Introdu√ß√£o ao DAX no Power BI</h1>
      <p>
        O trabalho duro de ETL e Modelagem j√° foi feito. Agora vamos
        enriquecer nossos dados e transform√°-los em um relat√≥rio interativo e
        profissional. Nesta aula, vamos come√ßar a trabalhar com **gr√°ficos de
        vendas** no Power BI, utilizando dados j√° existentes. Em seguida,
        vamos introduzir o conceito de **DAX** (Data Analysis Expressions) e
        como utiliz√°-lo para melhorar nossos gr√°ficos e an√°lises.
      </p>
    </header>

    <main class="main-section">
      <!-- SECTION 1 ‚Äì Criando os Gr√°ficos de Vendas -->
      <blockquote class="thought-of-the-day">
        <p>"Carregando cita√ß√£o..."</p>
        <cite>‚Äî</cite>
      </blockquote>

      <section class="sub-section" id="graficos-vendas">
        <h2>1. Criando Gr√°ficos de Vendas no Power BI</h2>

        <p>
          Vamos come√ßar a montar os gr√°ficos b√°sicos para an√°lise de vendas.
          Para isso, usaremos os dados de vendas j√° presentes no nosso modelo.
          Nosso foco aqui √© criar os gr√°ficos principais sem o uso de DAX.
        </p>

        <div class="card">
          <h4>1.1. Gr√°fico de Colunas ‚Äì Vendas por M√™s</h4>
          <p>
            O primeiro gr√°fico que vamos criar ser√° um **gr√°fico de colunas**
            para mostrar as vendas totais por m√™s.
          </p>
          <h5>Configura√ß√µes</h5>
          <ul>
            <li>
              <strong>Eixo X</strong>: `Calend√°rio[MesNome]` (Nome do M√™s)
            </li>
            <li>
              <strong>Valor</strong>: `BaseVendas[Valor Total]` (Total de
              vendas)
            </li>
            <li><strong>Agrega√ß√£o</strong>: Soma (Sum)</li>
            <li>
              <strong>Ordena√ß√£o</strong>: Por `Calend√°rio[MesNumero]` (para
              garantir a ordem cronol√≥gica)
            </li>
          </ul>
          <p>
            Esse gr√°fico mostrar√° as vendas totais por m√™s, e ser√° muito √∫til
            para visualizar a evolu√ß√£o das vendas ao longo do ano.
          </p>
        </div>

        <div class="card">
          <h4>1.2. Gr√°fico de Linha ‚Äì Vendas Acumuladas (YTD)</h4>
          <p>
            O gr√°fico de linha ser√° utilizado para mostrar as **vendas
            acumuladas** ao longo do ano.
          </p>
          <h5>Configura√ß√µes</h5>
          <ul>
            <li><strong>Eixo X</strong>: `Calend√°rio[Date]` (Data)</li>
            <li>
              <strong>Valor</strong>: `BaseVendas[Valor Total]` (Total de
              vendas)
            </li>
            <li><strong>Agrega√ß√£o</strong>: Soma (Sum) e Acumulado (YTD)</li>
            <li><strong>Ordena√ß√£o</strong>: Por Data, em ordem crescente</li>
          </ul>
          <p>
            Esse gr√°fico ajuda a visualizar o desempenho acumulado de vendas,
            permitindo uma compara√ß√£o entre os meses.
          </p>
        </div>

        <div class="card">
          <h4>1.3. Cart√£o de Medida ‚Äì Total de Vendas no M√™s Atual</h4>
          <p>
            O **cart√£o de medida** mostrar√° o total de vendas **somente no m√™s
            atual**.
          </p>
          <h5>Configura√ß√µes</h5>
          <ul>
            <li>
              <strong>Valor</strong>: `Soma(BaseVendas[Valor Total])` filtrado
              por `Calend√°rio[Date] = M√™s Atual`
            </li>
          </ul>
          <p>
            Esse cart√£o oferece uma visualiza√ß√£o r√°pida do desempenho de
            vendas no m√™s atual.
          </p>
        </div>

        <p>
          Com esses gr√°ficos, j√° temos uma boa vis√£o geral das **vendas
          mensais** e do **crescimento acumulado**. Vamos agora aprender como
          aprimorar esses gr√°ficos usando **DAX**.
        </p>
      </section>

      <!-- SECTION 2 ‚Äì Introdu√ß√£o ao DAX -->
      <section class="sub-section" id="introducao-dax">
        <h2>2. Introdu√ß√£o ao DAX no Power BI</h2>

        <p>
          DAX (Data Analysis Expressions) √© uma linguagem de f√≥rmula usada no
          Power BI para realizar c√°lculos complexos e an√°lises de dados. Vamos
          agora entender os conceitos b√°sicos e aplicar DAX nos gr√°ficos que
          criamos na primeira parte.
        </p>

        <div class="card">
          <h4>2.1. O que √© o DAX?</h4>
          <p>
            DAX √© a linguagem usada para criar **c√°lculos**, **medidas**, e
            **colunas calculadas** no Power BI. Ela √© muito √∫til para realizar
            an√°lises de tempo, segmenta√ß√µes, compara√ß√µes e muito mais.
          </p>
          <p>DAX funciona em dois tipos principais de objetos:</p>
          <ul>
            <li>
              <strong>Colunas calculadas</strong>: S√£o criadas dentro da
              tabela, como uma nova coluna de dados.
            </li>
            <li>
              <strong>Medidas</strong>: S√£o c√°lculos que retornam um valor
              √∫nico, geralmente utilizado em visualiza√ß√µes.
            </li>
          </ul>
        </div>

        <div class="card">
          <h4>2.2. Fun√ß√µes mais comuns no DAX</h4>
          <p>
            Aqui est√£o algumas das fun√ß√µes mais comuns do DAX que podemos usar
            para c√°lculos de tempo e agrega√ß√µes:
          </p>
          <ul>
            <li><code>SUM()</code>: Soma de uma coluna.</li>
            <li><code>AVERAGE()</code>: M√©dia de uma coluna.</li>
            <li><code>YEAR()</code>: Extrai o ano de uma data.</li>
            <li><code>MONTH()</code>: Extrai o m√™s de uma data.</li>
            <li>
              <code>YTD()</code>: C√°lculo acumulado no ano (Year to Date).
            </li>
            <li>
              <code>PREVIOUSMONTH()</code>: Retorna o valor do m√™s anterior.
            </li>
            <li><code>MIN()</code>: Retorna o valor m√≠nimo em uma coluna.</li>
            <li><code>MAX()</code>: Retorna o valor m√°ximo em uma coluna.</li>
            <li>
              <code>CALCULATE()</code>: Modifica o contexto de c√°lculo (muito
              √∫til para filtragem).
            </li>
          </ul>
        </div>

        <div class="card">
          <h4>2.3. Quando usar DAX e quando n√£o usar</h4>
          <p>
            Nem sempre precisamos usar DAX. √Äs vezes, c√°lculos simples como
            soma e m√©dia podem ser feitos diretamente com as colunas da
            tabela, sem necessidade de criar uma medida.
          </p>
          <ul>
            <li>
              <strong>Use DAX:</strong> Quando precisar de c√°lculos mais
              avan√ßados, como acumulados (YTD), compara√ß√µes de ano a ano
              (YoY), ou quando precisar alterar o contexto de c√°lculos com
              fun√ß√µes como <code>CALCULATE()</code>.
            </li>
            <li>
              <strong>N√£o use DAX:</strong> Quando um c√°lculo simples como
              soma (<code>SUM()</code>) ou m√©dia (<code>AVERAGE()</code>) pode
              ser feito diretamente usando a coluna da tabela.
            </li>
          </ul>
        </div>

        <div class="card">
          <h4>2.3.1. Por que nem tudo precisa virar DAX?</h4>
          <p>
            Um erro comum de quem est√° come√ßando √© achar que
            <strong>tudo precisa ser uma medida DAX</strong>. Na pr√°tica, isso
            s√≥ deixa o modelo mais confuso.
          </p>

          <h5>Exemplo pr√°tico</h5>
          <p>
            Se voc√™ s√≥ precisa mostrar o <strong>Total de Vendas</strong> em
            um √∫nico cart√£o, voc√™ pode simplesmente arrastar a coluna
            <code>BaseVendas[Valor Total]</code> e deixar a agrega√ß√£o como
            <strong>Soma</strong>.
          </p>

          <p>Agora, se esse total for usado:</p>
          <ul>
            <li>Em v√°rios gr√°ficos;</li>
            <li>Em compara√ß√µes com m√™s anterior;</li>
            <li>Em acumulados (YTD);</li>
            <li>Em percentuais;</li>
          </ul>

          <p>
            üëâ Nesse caso, criar uma <strong>medida DAX</strong> √© a melhor
            pr√°tica.
          </p>

          <p><strong>Regra simples para iniciantes:</strong></p>
          <ul>
            <li>Uso √∫nico e simples ‚Üí pode ser coluna</li>
            <li>Uso recorrente ou comparativo ‚Üí crie uma medida DAX</li>
          </ul>
        </div>

        <div class="card">
          <h4>2.4. Fun√ß√µes de Time Intelligence</h4>
          <p>
            As fun√ß√µes de Time Intelligence no DAX s√£o essenciais para
            trabalhar com dados temporais no Power BI. Elas ajudam a calcular
            totais acumulados, compara√ß√µes de per√≠odos e muito mais.
          </p>
          <p>Exemplos de fun√ß√µes:</p>
          <ul>
            <li><code>YTD([Valor])</code>: Total acumulado no ano.</li>
            <li><code>QTD([Valor])</code>: Total acumulado no trimestre.</li>
            <li><code>MTD([Valor])</code>: Total acumulado no m√™s.</li>
            <li>
              <code>DATEADD([Date], -1, YEAR)</code>: Retorna a data do ano
              anterior.
            </li>
            <li>
              <code>PARALLELPERIOD([Date], -1, MONTH)</code>: Compara o valor
              de um per√≠odo anterior.
            </li>
          </ul>
        </div>

        <div class="card">
          <h4>2.4.1 Medidas DAX b√°sicas para qualquer relat√≥rio de vendas</h4>

          <p>
            Independentemente do tipo de neg√≥cio, quase todo relat√≥rio de
            vendas possui algumas medidas padr√£o.
          </p>

          <h5>Total de Vendas</h5>
          <pre><code class="language-dax">
Total Vendas =
SUM ( BaseVendas[Valor Total] )
  </code></pre>

          <h5>M√©dia de Vendas</h5>
          <pre><code class="language-dax">
M√©dia Vendas =
AVERAGE ( BaseVendas[Valor Total] )
  </code></pre>

          <h5>Venda M√°xima</h5>
          <pre><code class="language-dax">
Venda M√°xima =
MAX ( BaseVendas[Valor Total] )
  </code></pre>

          <h5>Venda M√≠nima</h5>
          <pre><code class="language-dax">
Venda M√≠nima =
MIN ( BaseVendas[Valor Total] )
  </code></pre>

          <p>Essas medidas podem ser usadas em:</p>
          <ul>
            <li>Cart√µes (KPIs);</li>
            <li>Tabelas resumo;</li>
            <li>Compara√ß√µes entre per√≠odos.</li>
          </ul>
        </div>

        <div class="card">
          <h4>2.5. Aplicando DAX nos Gr√°ficos de Vendas</h4>
          <p>
            Agora que j√° conhecemos algumas fun√ß√µes DAX, vamos aplic√°-las nos
            gr√°ficos que criamos na **aba de Vendas**.
          </p>

          <h5>Exemplo: Criando a Medida Acumulada de Vendas (YTD)</h5>
          <p>
            Vamos criar uma medida de **vendas acumuladas no ano** (YTD). Para
            isso, usamos a fun√ß√£o DAX <code>YTD()</code>.
          </p>
          <pre><code class="language-dax">
Vendas YTD = 
TOTALYTD(
    SUM(BaseVendas[Valor Total]), 
    Calendario[Date]
)
          </code></pre>
          <p>
            Essa medida vai acumular as vendas de acordo com a coluna `Date`
            da Tabela Calend√°rio. Depois, podemos usar essa medida no gr√°fico
            de linha de "Vendas Acumuladas".
          </p>
        </div>

        <div class="card">
          <h4>2.6. O verdadeiro poder do DAX: contexto de filtro</h4>

          <p>
            Diferente de um Excel tradicional, o DAX entende o
            <strong>contexto</strong>
            em que a medida est√° sendo usada.
          </p>

          <p>
            Isso significa que a mesma medida pode retornar valores diferentes
            dependendo de:
          </p>
          <ul>
            <li>Filtros aplicados;</li>
            <li>Segmenta√ß√µes (slicers);</li>
            <li>Eixo do gr√°fico;</li>
            <li>Relacionamentos do modelo.</li>
          </ul>

          <h5>Exemplo</h5>
          <p>
            A medida abaixo sempre calcula o total de vendas, mas o valor muda
            conforme o m√™s, ano ou produto selecionado.
          </p>

          <pre><code class="language-dax">
Total Vendas =
SUM ( BaseVendas[Valor Total] )
  </code></pre>

          <p>
            üëâ Isso acontece porque o DAX respeita automaticamente o contexto
            de filtro.
          </p>
        </div>

        <div class="card">
          <h4>
            2.7. Comparando per√≠odos: por que a Tabela Calend√°rio √©
            obrigat√≥ria
          </h4>

          <p>
            Fun√ß√µes de compara√ß√£o de tempo s√≥ funcionam corretamente quando
            existe uma <strong>Tabela Calend√°rio</strong> bem configurada.
          </p>

          <h5>Vendas do M√™s Anterior</h5>
          <pre><code class="language-dax">
Vendas M√™s Anterior =
CALCULATE (
    [Total Vendas],
    PREVIOUSMONTH ( Calendario[Date] )
)
  </code></pre>

          <h5>Diferen√ßa entre meses</h5>
          <pre><code class="language-dax">
Diferen√ßa MoM =
[Total Vendas] - [Vendas M√™s Anterior]
  </code></pre>

          <p>
            Esses c√°lculos s√£o muito utilizados em an√°lises gerenciais para
            entender crescimento ou queda nas vendas.
          </p>
        </div>

        <div class="card">
          <h4>2.8. Erros comuns de quem est√° come√ßando com DAX</h4>

          <ul>
            <li>Criar medida quando uma coluna simples resolveria;</li>
            <li>
              N√£o usar tabela calend√°rio e tentar fazer c√°lculos de tempo;
            </li>
            <li>
              Usar divis√£o (<code>/</code>) em vez de <code>DIVIDE()</code>;
            </li>
            <li>Esquecer que filtros mudam o resultado da medida;</li>
            <li>Confundir coluna calculada com medida.</li>
          </ul>

          <p>
            Entender esses pontos economiza
            <strong>horas de frustra√ß√£o</strong> no Power BI.
          </p>
        </div>
      </section>

      <!-- EXERC√çCIO -->
      <section class="exercise">
        <h2>Exerc√≠cio ‚Äì Aplicando DAX nas Vendas</h2>
        <p>
          Com base no que vimos at√© agora, aplique as seguintes medidas em seu
          modelo:
        </p>
        <ol>
          <li>Crie uma medida de **Vendas Acumuladas (YTD)**.</li>
          <li>
            Crie uma medida de **Vendas do M√™s Anterior** utilizando a fun√ß√£o
            <code>PREVIOUSMONTH()</code>.
          </li>
          <li>
            Adicione essas medidas ao gr√°fico de linha de vendas acumuladas.
          </li>
        </ol>

        <button class="toggle-answer-btn">
          Mostrar sugest√£o de resposta
        </button>
        <div class="answer">
          <p>Um exemplo de medida de vendas do m√™s anterior seria:</p>
          <pre><code class="language-dax">
          Vendas M√™s Anterior = 
          CALCULATE(
              SUM(BaseVendas[Valor Total]),
              PREVIOUSMONTH(Calendario[Date])
            )
          </code></pre>
        </div>
      </section>

    </main>

    <!-- BOT√ÉO VOLTAR AO TOPO -->
    <a href="#top" class="back-to-top" id="back-to-top">‚Üë</a>
  </div>

  <!-- SCRIPTS -->
  <script src="js/quotes.js"></script>
  <script src="js/main.js"></script>
</body>

</html>